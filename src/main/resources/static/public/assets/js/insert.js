webpackJsonp([3],{Fs1K:function(t,a,e){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"footer"},[a("div",{staticClass:"pull-right"}),this._v(" "),a("div",[a("strong",[this._v("Copyright")]),this._v(" Example Company © 2014-2017\n  ")])])}]};var i=e("VU/8")({},s,!1,function(t){e("e6Bw")},"data-v-2c4f9862",null);a.a=i.exports},TQKY:function(t,a){},VmQR:function(t,a){},e6Bw:function(t,a){},qjSu:function(t,a,e){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("nav",{staticClass:"navbar-default navbar-static-side",attrs:{role:"navigation"}},[a("div",{staticClass:"sidebar-collapse"},[a("ul",{staticClass:"nav metismenu",attrs:{id:"side-menu"}},[a("li",[a("a",{attrs:{href:"/1"}},[a("i",{staticClass:"fa fa-diamond"}),this._v(" "),a("span",{staticClass:"nav-label"},[this._v("Main")])])])])])])}]};var i=e("VU/8")({},s,!1,function(t){e("TQKY")},"data-v-31c95fc0",null);a.a=i.exports},"z+B5":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),i=e("qjSu"),n=e("Fs1K"),r=e("mtWM"),o=e.n(r),l=window.boardNo,c=window.flag,d={name:"Insert",components:{Nav:i.a,Footer:n.a},data:function(){return{myCroppa:{},sendData:{writer:"",title:"",password:"",content:"",insertParam:{attach:"",fileName:"",flag:"",parentNo:l}},flags:c}},computed:{checkImage:function(){return null!=this.sendData.urlPath?this.sendData.urlPath:""}},methods:{reset:function(t){t&&t.preventDefault();var a=document.referrer;location.href=""+a},validation:function(t){if(t&&t.preventDefault(),0===this.sendData.writer.length||this.sendData.writer.length>10)return this.sendData.writer.length>10?(alert("작성자는 10자 이내로 입력해주세요."),this.sendData.writer=this.sendData.writer.substring(0,10),void this.$refs.writer.focus()):(alert("작성자를 입력해주세요."),this.$refs.writer.focus(),!1);if(0===this.sendData.title.length||this.sendData.title.length>50)return this.sendData.title.length>50?(alert("제목은 50자 이내로 입력해주세요."),this.sendData.title=this.sendData.title.substring(0,50),void this.$refs.title.focus()):(alert("제목을 입력해주세요."),this.$refs.title.focus(),!1);if(!this.sendData.password)return alert("비밀번호를 입력해주세요."),this.$refs.password.focus(),!1;return/[^0-9]/g.test(this.sendData.password)?(alert("숫자만 입력해주세요."),this.$refs.password.focus(),!1):!(0===this.sendData.content.length||this.sendData.content.length>1e3)||(this.sendData.content.length>1e3?(alert("상세 내용은 1000자 이내로 입력해주세요."),this.sendData.content=this.sendData.content.substring(0,1e3),void this.$refs.content.focus()):(alert("상세 내용을 입력해주세요."),this.$refs.content.focus(),!1))},insertPost:function(t){this.$refs.insertBtn.disabled=!0,this.validation(t)?(this.sendData.insertParam.flag=this.vFlag,this.myCroppa.generateDataUrl().length&&(this.sendData.insertParam.attach=this.myCroppa.generateDataUrl(),this.sendData.insertParam.fileName=this.myCroppa.getChosenFile().name),this.sendData.insertParam.parentNo?o.a.post("/api/replyInsert",this.sendData).then(function(t){return"OK"===t.data.result?(alert("등록되었습니다."),void(window.location.href="/1")):"E999"===t.data.result?(alert(t.data.message),void(window.location.href="/1")):void 0}).catch(function(t){alert(t.toString())}):o.a.post("/api/insert",this.sendData).then(function(t){return"OK"===t.data.result?(alert("등록되었습니다."),void(window.location.href="/1")):"E999"===t.data.result?(alert(t.data.message),void(window.location.href="/1")):void 0}).catch(function(t){alert(t.toString()),window.location.href="/1"})):this.$refs.insertBtn.disabled=!1},modifyPost:function(t){if(this.validation(t)){if(this.myCroppa.generateDataUrl&&(this.sendData.insertParam={attach:this.myCroppa.generateDataUrl(),fileName:null}),this.myCroppa.getChosenFile()){this.sendData.insertParam={attach:this.myCroppa.generateDataUrl(),fileName:this.myCroppa.getChosenFile().name};/(.*?)\.(jpg|JPG|JPEG|jpeg|png|PNG|gif|GIF|bmp|BMP)$/.test(this.sendData.insertParam.fileName)||(this.sendData.insertParam.attach="",this.sendData.insertParam.fileName=null)}o.a.put("/api/modify",this.sendData).then(function(t){"OK"===t.data.result?(alert("수정되었습니다."),window.location.href="/detail/"+window.boardNo+"/"+window.pageNum):alert(t.data.message)}).catch(function(t){alert(t.toString())})}},onFileTypeMismatch:function(t){console.log(t),alert("이미지 파일만 업로드 가능합니다. 이미지 파일을 업로드 해주세요.")}},created:function(){var t=this;this.flags&&o.a.get("/api/get/"+this.sendData.insertParam.parentNo).then(function(a){"OK"===a.data.message&&(t.sendData=a.data.detailBoard)}).catch(function(t){alert(t.toString())})}},u={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Nav"),t._v(" "),e("div",{staticClass:"gray-bg",attrs:{id:"page-wrapper"}},[e("div",{staticClass:"wrapper wrapper-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"ibox float-e-margins"},[t._m(0),t._v(" "),e("div",{staticClass:"ibox-content"},[e("form",{staticClass:"form-horizontal",attrs:{name:"frm"}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label"},[t._v("작성자")]),t._v(" "),e("div",{staticClass:"col-sm-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sendData.writer,expression:"sendData.writer"}],ref:"writer",staticClass:"form-control",attrs:{type:"text",placeholder:"작성자를 입력해주세요."},domProps:{value:t.sendData.writer},on:{input:function(a){a.target.composing||t.$set(t.sendData,"writer",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label"},[t._v("제목")]),t._v(" "),e("div",{staticClass:"col-sm-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sendData.title,expression:"sendData.title"}],ref:"title",staticClass:"form-control",attrs:{type:"text",placeholder:"제목을 입력해주세요."},domProps:{value:t.sendData.title},on:{input:function(a){a.target.composing||t.$set(t.sendData,"title",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label"},[t._v("비밀번호")]),t._v(" "),e("div",{staticClass:"col-sm-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sendData.password,expression:"sendData.password"}],ref:"password",staticClass:"form-control",attrs:{type:"password",placeholder:"비밀번호를 입력해주세요."},domProps:{value:t.sendData.password},on:{input:function(a){a.target.composing||t.$set(t.sendData,"password",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label"},[t._v("상세내용")]),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.sendData.content,expression:"sendData.content"}],ref:"content",staticClass:"form-control",attrs:{rows:"10",placeholder:"상세 내용을 입력해주세요."},domProps:{value:t.sendData.content},on:{input:function(a){a.target.composing||t.$set(t.sendData,"content",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label"},[t._v("파일첨부")]),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("croppa",{attrs:{"prevent-white-space":"",width:130,height:130,"canvas-color":"#fff",placeholder:"이미지를 선택해주세요.","placeholder-font-size":12,accept:"image/*","disable-drag-and-drop":!1,"disable-click-to-choose":!1,"disable-drag-to-move":!1,"disable-scroll-to-zoom":!1,"zoom-speed":20,"disable-rotation":!0,"show-remove-button":!0,"remove-button-color":"red","remove-button-size":20},on:{"file-type-mismatch":t.onFileTypeMismatch},model:{value:t.myCroppa,callback:function(a){t.myCroppa=a},expression:"myCroppa"}},[e("img",{attrs:{slot:"initial",src:t.checkImage},slot:"initial"})])],1)]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-4 col-sm-offset-2",staticStyle:{float:"right"}},[e("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.reset(a)}}},[t._v("취소")]),t._v(" "),t.flags?t._e():e("button",{ref:"insertBtn",staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:function(a){return t.insertPost(a)}}},[t._v("작성\n                    ")]),t._v(" "),t.flags?e("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:function(a){return t.modifyPost(a)}}},[t._v("수정\n                    ")]):t._e()])])])])])])])]),t._v(" "),e("Footer")],1)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"ibox-title"},[a("h5",[this._v("Board\n              ")])])}]};var h=e("VU/8")(d,u,!1,function(t){e("VmQR")},null,null).exports,m=e("86jz"),f=e.n(m);s.default.use(f.a),new s.default({el:"#app",components:{Insert:h},template:"<Insert/>"})}},["z+B5"]);
//# sourceMappingURL=insert.js.map